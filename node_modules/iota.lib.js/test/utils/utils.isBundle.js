var chai = require('chai');
var assert = chai.assert;
var Utils = require('../../lib/utils/utils');


describe('utils.isBundle', function() {

    var tests = [
        // Valid bundle
        {
            'bundle': [
                {
                    "hash":"IPQYUNLDGKCLJVEJGVVISSQYVDJJWOXCW9RZXIDFKMBXDVZDXFBZNZJKBSTIMBKAXHFTGETEIPTZGNTJK",
                    "signatureMessageFragment":"999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999",
                    "address":"A9RGRKVGWMWMKOLVMDFWJUHNUNYWZTJADGGPZGXNLERLXYWJE9WQHWWBMCPZMVVMJUMWWBLZLNMLDCGDJ",
                    "value":0,
                    "tag":"999999999999999999999999999",
                    "timestamp":1482522289,
                    "currentIndex":0,
                    "lastIndex":0,
                    "bundle":"TXEFLKNPJRBYZPORHZU9CEMFIFVVQBUSTDGSJCZMBTZCDTTJVUFPTCCVHHORPMGCURKTH9VGJIXUQJVHK",
                    "trunkTransaction":"999999999999999999999999999999999999999999999999999999999999999999999999999999999",
                    "branchTransaction":"999999999999999999999999999999999999999999999999999999999999999999999999999999999",
                    "nonce":"999999999999999999999999999999999999999999999999999999999999999999999999999999999"
                }
            ],
            'expected': true
        },
        // Invalid bundle
        {
            'bundle': [
                {
                    "hash":"IPQYUNLDGKCLJVEJGVVISSQYVDJJWOXCW9RZXIDFKMBXDVZDXFBZNZJKBSTIMBKAXHFTGETEIPTZGNTJK",
                    "signatureMessageFragment":"",
                    "address":"A9RGRKVGWMWMKOLVMDFWJUHNUNYWZTJADGGPZGXNLERLXYWJE9WQHWWBMCPZMVVMJUMWWBLZLNMLDCGDJ",
                    "value":0,
                    "tag":"999999999999999999999999999",
                    "timestamp":1482522289,
                    "currentIndex":0,
                    "lastIndex":0,
                    "bundle":"TXEFLKNPJRBYZPORHZU9CEMFIFVVQBUSTDGSJCZMBTZCDTTJVUFPTCCVHHORPMGCURKTH9VGJIXUQJVHK",
                    "trunkTransaction":"999999999999999999999999999999999999999999999999999999999999999999999999999999999",
                    "branchTransaction":"999999999999999999999999999999999999999999999999999999999999999999999999999999999",
                    "nonce":"999999999999999999999999999999999999999999999999999999999999999999999999999999999"
                }
            ],
            'expected': false
        },
        // Valid bundle
        {
            'bundle': [
               {
                  "hash":"HKCCUBWLJELMDWLCHX9PLACAKLOJMJTWTMLYN9RXOGYDOQUZXOQCSYQHRZGPHFLKSZMNNBWZHMN999999",
                  "signatureMessageFragment":"ODGABDPCADTCGADBGANBPCJDXCSCGAQAGAADTCGDGDPCVCTCGADBGASBYBCCKBEAXCGDEADDFDTCHDHDMDEARCCDCD9DSAGAQD9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999",
                  "address":"TIYLRQVUQWTZEBBWHZOZEZCIZI9RVGLCXGGXQZMKJNGWBLHGUTMZAHOVVFDFDOWVGFBFCLXUXBHEOR9FL",
                  "value":100,
                  "tag":"999999999999999999999999999",
                  "timestamp":1490131003,
                  "currentIndex":0,
                  "lastIndex":3,
                  "bundle":"FOTVWJMDJVVFHJSJBFSVYPUSBQCZVZQPEDNEJFPWUBUAFKGRYQNKIGPHEXRFYPLLZLCJXXEMNXQ9FHRMF",
                  "trunkTransaction":"RX9UUXMEXKBZSBFYNFHXZHBALESZ9BFXAGGGK9UVTAXZIYRSEDGXA9MRTSVYZUGIWW9MPUMCLGN999999",
                  "branchTransaction":"DUZPGYFPH9BVDWJQDRFUQHROXUPOYMQPLGSXJVFSWOCCSRHISOE9XYVYXNQFLCKEBEWILJQYNGN999999",
                  "nonce":"GJLUACEMKNPGTAJEVHKJOXNE9ILWFBNYSSQLMYADSDIVTQHQPOKZOHMAOA9YVUGXCADYCLWPSDOHARJPF"
               },
               {
                  "hash":"RX9UUXMEXKBZSBFYNFHXZHBALESZ9BFXAGGGK9UVTAXZIYRSEDGXA9MRTSVYZUGIWW9MPUMCLGN999999",
                  "signatureMessageFragment":"FHGNJTFV99BTMRFPUOCHEHRPVAXL9OEAKEPQKXSEKEZQQWCJYM9NN9OQTBICSYKQVHTCRMNWABZXDUZHGXVSBFBEWL9TSGJDXQYTUJXVAAIMCJ9INXPPFXZNZXMUQIUZPJFOBSCVEZOTCKY9VOHWITDINLMIVVCXXNNLHRPVCKCRXLVBPSGAJCPVUFNPTPYVVFBMNW9MZIRGDD9GXENDVXOZWHZDVCNYIOMZTFMTPIJGVNYJDAXCFUDNGFTCOCKIYAIPIZFKJJLMLKEFSNFKCG9XELJCPLDWWGQXVPL9IEZVZA9PHPBPJVRKKT9GCRCBFPXLYZQIHJWDOZDPBANVEWVKDZJQIGBWUXMLZNUPFKRQWHXIPXHICFMUXKGGZDYGJBRFO9MDCZUQA9APGIIWHHLTALULVVDLMBXBHMBODCXIL9VSWTVJVUVRXTSDYH9PTFUPF99UDLHCZCBOSK9H9VBNFIVOPIBQJJTZBWXOWXB9HJWWGZUKMJAZYLUBFUAUYRPCSK9MWBHDGBMJB9TXRSTIBCISLNABGUKHHKYLGGQAMEYZWXEOFLKBXAYR9GJTQNCWIKC9ENMSKPDFOHRRCOC99ODLUVPLHUHGDZL9OTRLQC9CZHJDUMKHA9PHXMXQUNIY9IILKMSBYTZ9JHIVVWDCXKNODOSDGF9TNCXGB9HZ9DRVYQCOODWOGPRXDNJOCPMGHRJOYBQJKGRRBGSORRRUTDVOGOYPIEJFERKJ9OQVOQLGEPCV9ABYUQXOMYKDFCWOQDTKAVETNYPODKFQNRAVSVT9UXRPZZHHHCOX9ZUPPSRD9ATKNKXNIJLFGSXKGOQWCDXEXVLJSBUGMACJRHRKXQRXQWSSFJMZIKFQ9WGVFPPJMCX9WUUPQ9V9VANEAATOIQRVTXBUUJSKIWLYDNWKZKCYJSTQBGFTWONYWGMZTXOIQMMJRSKMMGFWWDFPJNCWBJDT9IEJIPEZRGFGSLKPJ9XGXVRVIECXEZXGWSLDMT9XDGHWQJEGTSCCFLLVRJVGAXOEZKIGCZPAXPSPBQNZSRWQCNHJFCD9CWEMFWZSAPTACVWHKFEXAYGXLNPDLQSYBRMVYRLIEOHNVCNNCTGYUJTXTKOUGW9IXSASBULYCXNQCOBFNTUDTEVUXVJERKJSJDXXMLYVKTY9MNUGYP9RIWXFWRVQJYZFLVFJ9RJXFETLUNDPIUFIRACICODBGBGJVQUPFSNFIKGUMIMONJHBXPMTYV9ODFDF9WTMVCJFTGQAQTLJJEYKBSSUPMQEMVLOXFXQLFLCXFKJIFQOR9MLRVX9DJSBBXNWMMXSSKPLBOJZMCLSAGUZSZDDLFZURNGXPIQXFSP9BHLDKTZNTURZQTSTNAICTNAZKOQHVXTXIWLE9HPZTOVS9BOLLKEF9VDKNSAIFMQNIPQDGFMC9GTHTMRPUOGJFYDUCKN9DUMFABW9XRSV9V9AEAKXTRFKWAMKDBZWTRUOYXMUFHVDORFIETVYBSPPCMPAKKZKEWYLBVMXS9UHJCGVVTNNOKJVSHTLSELHXQDMDVHBLOWPDOSSUN9B9OCACO9DMESTAX9UJUZSNSSPHNNAKJLSYUNHMZI9XYHSNBNIA9W9JKJ9GSRUQEVYREWRTCTSHY9GCQF9OVERSULIVIECDZGDFSGPTAA9XPZVOSSIQILRDO9GMMMILIYBQOYYTQJFGPYPZKAVGNPUZ99DDIGEY9SJLLC9IGJFCPIFPHZFOEVICIGJYWHINUBXTFMYMB9VHOIRWXNHUHXUEXICCCLBEIUDMKKWFICTEWIMNPKHUJKHXCSTDJPLHSVCOEUVJQSVTXPBDVYHLZ9PTPQAUTJECRRQMLNFKTPLNYLEBDEJZRY9CQYLRHSWAHERP9SVQYQSVGYIEARNHYDDWJWVRPBZGJAYDRNMLPCWQQGWTKIBDNMHCMPJEUUGAZWFQDOYLBWNFPMYLTSJJKSITQRRVDXBQWEFUPVLGN9BX9HRARHDTZC9NFFVEMDTDSJLEGFEUTQVMGTF9CKATRIJXQOPFXUSKUVZ9IGFEPRZJQCAKIDAUBWVYMQBJCLTIZJLALZJKGXBOBWTLKOEIBEETIEUDCDBDXWKRNBIVCJCHLTEPNYRDUTUNRLBREAMDLEOHNWOAPILQECVWPHBIIFODRGJNJUKVDJTGHIQPT9UOIHKDYZ",
                  "address":"DFZSZK9ILAAHEJPWEHIKTRKLNOQBIVCZYYSLNKDZBLCAHMBNXZOFKEMLVSLDODUXNRNMDMNGCSEXRNHGK",
                  "value":-13500,
                  "tag":"999999999999999999999999999",
                  "timestamp":1490131006,
                  "currentIndex":1,
                  "lastIndex":3,
                  "bundle":"FOTVWJMDJVVFHJSJBFSVYPUSBQCZVZQPEDNEJFPWUBUAFKGRYQNKIGPHEXRFYPLLZLCJXXEMNXQ9FHRMF",
                  "trunkTransaction":"NRSRTE9WXMPOYFXCYUDAVWZVIJPIILKFXAANUQQTYPVE9NHRDTYOCKXLEGOW9AXWJPQPHAV9NHF999999",
                  "branchTransaction":"DUZPGYFPH9BVDWJQDRFUQHROXUPOYMQPLGSXJVFSWOCCSRHISOE9XYVYXNQFLCKEBEWILJQYNGN999999",
                  "nonce":"VA99LHXAUQVIFJNDLEBIIMCQQNIWSNSOQDQYBELMNUNUHKFEKSDQHHDNQWUJFEKED9KXA9LBAMWUINKKT"
               },
               {
                  "hash":"NRSRTE9WXMPOYFXCYUDAVWZVIJPIILKFXAANUQQTYPVE9NHRDTYOCKXLEGOW9AXWJPQPHAV9NHF999999",
                  "signatureMessageFragment":"ATUKYBO9LZPVCIEQGNKQSECWUQ9NRJFFKCIXJZROYBCOXXTJDIADRQCUDEWDRBNXTBUJQYOZLOKXG9GCEFEPWRUZQFDNMLNNUSDSSYHZGKNCTALAKKHQDOTWZNKLJGLSSAQQEIC9PPPWYLUYJJLXUUDEOFQPVYHTLRVTYAQECAHJEHDMPRRTABYVH9ZJQRGZBXFFCFZSAQERVDLTYJWSJGCPQQTAQRLXMMIDOKVEVJ9HE9PMJAXBIZYOHBO9PPZNLRYIUALHAVKHHGJRWXBUU9KSOJMPUILOZCRDCIFSVL9GHCHMFRTQFUBEUIXQZCPCLOQBDIHRLQJHNOGAKHPEMCDGFVLMRZ9JGREGBQCIADVLLEU9HHB9IWWJDBYBQQYVNNZAUSBZTFRZGFFOYWLDTCRDQSPAXLZYVLXRFGRFATZSNHZOSKATSKJHLPUTVAWKTDJBTILQAEVBWKPVKLDLCJYSFICOCHBCPB9NNPJEPJ9OLPVAFKXFQB9LIEBQIYAESWF9YPGSLTOKHFCCTERNUXTHCUNO9HCRGNAVQQUV9WONPMXLVRNTQXNI9VDGWDTMDXJNLGGAVHYMPE9IQXPUDZMHBHWFJUFDSTAQZZ9X9MVJJTVKWER9GFTJHOLQQBP99KWLPONSTGMWEAJGFCLIDMKBWEVFAMXBIGOLX99KBPQDIYRUVAMUMBOTJDQX9OURCHQTDNIFCPIHXEPJXFTIZKTBTHHOTMSOJYSRY9RXUGLCPLS9VOJXLRO9IOHGIJFPZUOASSOBMBPHMFHSUXBIRONQLTSGCMOLSRAHVJHPSTL9BRWQLXSWKRSLCMQJVIFW9JQHXSBHBFSLKGBOHXERVBLVRXTGNRQEXFVMEYLSFLPAXRRIRYVSAFNCOJETKWUQNFXEDYQOBJCKT9BGFUARGYOCBRFYNFCGTXUWALHIZGPJBESZHWIYHPFZDPNAWKRQDFJLXGSECEBMYMILNE9JUQQCFIONCUTKRCJFULHILUXXQXHSFTXLIVWTHAHJHCIYSMKEWAVZVVZKQLL9VMUEWEKILVMTFGAFXRRVEJZJBKPMBBIDRTWCOTD9VHVJXTBDYGTMDXL9ANABAKVEJJ9C9QGKQEVJYOMCTAMQFJMVJXUOJCEVIPAZWA9VLPZQCDG9IXD9QEJTS9PYEQLGUCLXBSIGZRBCYRMYONKYJHJWHKPXAMGJUWOEABPVSVZQYINZQTFSZH9DQPVDIELXUESDPRUVO9CJJSLQALWHFOATHAWTOCMBINSKWMSWNGDCUBJFXMJKKK9UUSPHIKBMVPNRS9HJYWSOYICWVSOLMZBOEBLFHTLZENGHLUVA9UCQQZWNTBKOLYHAEHPUTMLGLRFKQCJJMZFJBJHCSKDCPMUMSZEGFPFISXZEYYMQFEBNAGBMKCKOYVGEQBQNQHZTKAZZUBULOQOSGMRDAPPKOAYPIAVPUXCCVIVIWSROYPWPXLJFKQPXXTKYYQFTKMRUAZYHELCJYRRXXBFETHQLSJIQJQNSNNGSLXTXPKVPDYLQVGQRGSKHSSNXHDEMRXQHDNFNWCZCDWP9FANSPXBCUHSGCYA99AASFOPF9Z9USGLO9UOFFFE9TUEPXQPJDTDPVHSAWMK9X9PVWIAO9MTIZHTWYKAYYKGYLFNZBKOLHZTCKURLKJXTBSJQMI9NMZQHMZXSOJTFGAGWZBPNEITGQHANGYAYICBYIYOKVIOEU9IQQRN9FCLLBIDAFQPRLABBATTCSUVLNQODDBGNYIVEOEQWQFAVQZERKLG9TMUYWYNDAFUHKHDXBYKUUNRSZZUNJUUMRVFDGPNIBKOXFENEQJNIXMWNKAZXOVLUBUVSVJLHOYUSRATG9UFGDO9ORNQJGXMJLTGRLMJWHEVRZTVQJQURATBUXDL9Y9RFAFEWUDFBHHCPRKAQLS9CPBMDBFLYNOWGYLFXYDTILGMDOYVI9XADCFKNYDZWDYXAWNHNSAXCEKYQFPKRIB9CTFYPSPKW9IHHT9OUSABBLUUMN9UWCPMWUKYIGYXMLWIRLLWEUHTFZSJORVSXJHHSSKJHUMWZXCSPGDIWCLXYL9PDC9KRJTJFHV9UAMGXSJKDWTOEPBXRXTNWO9IZMWWXSEGIAFTSY9QMZOYZTDTCTWXFFNXVOEMOAUSSLXPAKCKRYBAZWCRPGFOIUJBRTGBOOJY",
                  "address":"DFZSZK9ILAAHEJPWEHIKTRKLNOQBIVCZYYSLNKDZBLCAHMBNXZOFKEMLVSLDODUXNRNMDMNGCSEXRNHGK",
                  "value":0,
                  "tag":"999999999999999999999999999",
                  "timestamp":1490131006,
                  "currentIndex":2,
                  "lastIndex":3,
                  "bundle":"FOTVWJMDJVVFHJSJBFSVYPUSBQCZVZQPEDNEJFPWUBUAFKGRYQNKIGPHEXRFYPLLZLCJXXEMNXQ9FHRMF",
                  "trunkTransaction":"9FKVHICYFNEUOARFNHZBEF9RW9WQOW9GZPVDTTUAJFSUORNIOZKUSETPVNYYDBZQFDZKORXTSML999999",
                  "branchTransaction":"DUZPGYFPH9BVDWJQDRFUQHROXUPOYMQPLGSXJVFSWOCCSRHISOE9XYVYXNQFLCKEBEWILJQYNGN999999",
                  "nonce":"ABXKFQHNRCOUQSIGWPFLWANKMIIFGYKUNYMNNRZBGLLGGYHODYJFFWVUCRBLCZAWPPQENUMTFUNHPIHKK"
               },
               {
                  "hash":"9FKVHICYFNEUOARFNHZBEF9RW9WQOW9GZPVDTTUAJFSUORNIOZKUSETPVNYYDBZQFDZKORXTSML999999",
                  "signatureMessageFragment":"999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999",
                  "address":"VKLNKAGJBDKRQHGDAOOZIMSBJHVSONHRHASRYKHMVNZPDDGFWC9ZHNIWNJOBQECLGRVSHJKGBMWSJ9FBV",
                  "value":13400,
                  "tag":"999999999999999999999999999",
                  "timestamp":1490131013,
                  "currentIndex":3,
                  "lastIndex":3,
                  "bundle":"FOTVWJMDJVVFHJSJBFSVYPUSBQCZVZQPEDNEJFPWUBUAFKGRYQNKIGPHEXRFYPLLZLCJXXEMNXQ9FHRMF",
                  "trunkTransaction":"DUZPGYFPH9BVDWJQDRFUQHROXUPOYMQPLGSXJVFSWOCCSRHISOE9XYVYXNQFLCKEBEWILJQYNGN999999",
                  "branchTransaction":"DUZPGYFPH9BVDWJQDRFUQHROXUPOYMQPLGSXJVFSWOCCSRHISOE9XYVYXNQFLCKEBEWILJQYNGN999999",
                  "nonce":"VOLEBOOTVKQBLHMUUGOBNVFOUUHILBJQQCBIRJVEYILHQRWKDIDY9UFPEGYRLTADTUFRLMTCFXPFDWRIW"
               }
            ],
            'expected': true
        },
        // Invalid bundle: wrong signature
        {
            'bundle': [
               {
                  "hash":"HKCCUBWLJELMDWLCHX9PLACAKLOJMJTWTMLYN9RXOGYDOQUZXOQCSYQHRZGPHFLKSZMNNBWZHMN999999",
                  "signatureMessageFragment":"ODGABDPCADTCGADBGANBPCJDXCSCGAQAGAADTCGDGDPCVCTCGADBGASBYBCCKBEAXCGDEADDFDTCHDHDMDEARCCDCD9DSAGAQD9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999",
                  "address":"TIYLRQVUQWTZEBBWHZOZEZCIZI9RVGLCXGGXQZMKJNGWBLHGUTMZAHOVVFDFDOWVGFBFCLXUXBHEOR9FL",
                  "value":100,
                  "tag":"999999999999999999999999999",
                  "timestamp":1490131003,
                  "currentIndex":0,
                  "lastIndex":3,
                  "bundle":"FOTVWJMDJVVFHJSJBFSVYPUSBQCZVZQPEDNEJFPWUBUAFKGRYQNKIGPHEXRFYPLLZLCJXXEMNXQ9FHRMF",
                  "trunkTransaction":"RX9UUXMEXKBZSBFYNFHXZHBALESZ9BFXAGGGK9UVTAXZIYRSEDGXA9MRTSVYZUGIWW9MPUMCLGN999999",
                  "branchTransaction":"DUZPGYFPH9BVDWJQDRFUQHROXUPOYMQPLGSXJVFSWOCCSRHISOE9XYVYXNQFLCKEBEWILJQYNGN999999",
                  "nonce":"GJLUACEMKNPGTAJEVHKJOXNE9ILWFBNYSSQLMYADSDIVTQHQPOKZOHMAOA9YVUGXCADYCLWPSDOHARJPF"
               },
               {
                  "hash":"RX9UUXMEXKBZSBFYNFHXZHBALESZ9BFXAGGGK9UVTAXZIYRSEDGXA9MRTSVYZUGIWW9MPUMCLGN999999",
                  "signatureMessageFragment":"FHGNJTFV99BTMRFPUOCHEHRPVAXL9OEAKEPQKXSEKEZQQWCJYM9NN9OQTBICSYKQVHTCRMNWABZXDUZHGXVSBFBEWL9TSGJDXQYTUJXVAAIMCJ9INXPPFXZNZXMUQIUZPJFOBSCVEZOTCKY9VOHWITDINLMIVVCXXNNLHRPVCKCRXLVBPSGAJCPVUFNPTPYVVFBNNW9MZIRGDD9GXENDVXOZWHZDVCNYIOMZTFMTPIJGVNYJDAXCFUDNGFTCOCKIYAIPIZFKJJLMLKEFSNFKCG9XELJCPLDWWGQXVPL9IEZVZA9PHPBPJVRKKT9GCRCBFPXLYZQIHJWDOZDPBANVEWVKDZJQIGBWUXMLZNUPFKRQWHXIPXHICFMUXKGGZDYGJBRFO9MDCZUQA9APGIIWHHLTALULVVDLMBXBHMBODCXIL9VSWTVJVUVRXTSDYH9PTFUPF99UDLHCZCBOSK9H9VBNFIVOPIBQJJTZBWXOWXB9HJWWGZUKMJAZYLUBFUAUYRPCSK9MWBHDGBMJB9TXRSTIBCISLNABGUKHHKYLGGQAMEYZWXEOFLKBXAYR9GJTQNCWIKC9ENMSKPDFOHRRCOC99ODLUVPLHUHGDZL9OTRLQC9CZHJDUMKHA9PHXMXQUNIY9IILKMSBYTZ9JHIVVWDCXKNODOSDGF9TNCXGB9HZ9DRVYQCOODWOGPRXDNJOCPMGHRJOYBQJKGRRBGSORRRUTDVOGOYPIEJFERKJ9OQVOQLGEPCV9ABYUQXOMYKDFCWOQDTKAVETNYPODKFQNRAVSVT9UXRPZZHHHCOX9ZUPPSRD9ATKNKXNIJLFGSXKGOQWCDXEXVLJSBUGMACJRHRKXQRXQWSSFJMZIKFQ9WGVFPPJMCX9WUUPQ9V9VANEAATOIQRVTXBUUJSKIWLYDNWKZKCYJSTQBGFTWONYWGMZTXOIQMMJRSKMMGFWWDFPJNCWBJDT9IEJIPEZRGFGSLKPJ9XGXVRVIECXEZXGWSLDMT9XDGHWQJEGTSCCFLLVRJVGAXOEZKIGCZPAXPSPBQNZSRWQCNHJFCD9CWEMFWZSAPTACVWHKFEXAYGXLNPDLQSYBRMVYRLIEOHNVCNNCTGYUJTXTKOUGW9IXSASBULYCXNQCOBFNTUDTEVUXVJERKJSJDXXMLYVKTY9MNUGYP9RIWXFWRVQJYZFLVFJ9RJXFETLUNDPIUFIRACICODBGBGJVQUPFSNFIKGUMIMONJHBXPMTYV9ODFDF9WTMVCJFTGQAQTLJJEYKBSSUPMQEMVLOXFXQLFLCXFKJIFQOR9MLRVX9DJSBBXNWMMXSSKPLBOJZMCLSAGUZSZDDLFZURNGXPIQXFSP9BHLDKTZNTURZQTSTNAICTNAZKOQHVXTXIWLE9HPZTOVS9BOLLKEF9VDKNSAIFMQNIPQDGFMC9GTHTMRPUOGJFYDUCKN9DUMFABW9XRSV9V9AEAKXTRFKWAMKDBZWTRUOYXMUFHVDORFIETVYBSPPCMPAKKZKEWYLBVMXS9UHJCGVVTNNOKJVSHTLSELHXQDMDVHBLOWPDOSSUN9B9OCACO9DMESTAX9UJUZSNSSPHNNAKJLSYUNHMZI9XYHSNBNIA9W9JKJ9GSRUQEVYREWRTCTSHY9GCQF9OVERSULIVIECDZGDFSGPTAA9XPZVOSSIQILRDO9GMMMILIYBQOYYTQJFGPYPZKAVGNPUZ99DDIGEY9SJLLC9IGJFCPIFPHZFOEVICIGJYWHINUBXTFMYMB9VHOIRWXNHUHXUEXICCCLBEIUDMKKWFICTEWIMNPKHUJKHXCSTDJPLHSVCOEUVJQSVTXPBDVYHLZ9PTPQAUTJECRRQMLNFKTPLNYLEBDEJZRY9CQYLRHSWAHERP9SVQYQSVGYIEARNHYDDWJWVRPBZGJAYDRNMLPCWQQGWTKIBDNMHCMPJEUUGAZWFQDOYLBWNFPMYLTSJJKSITQRRVDXBQWEFUPVLGN9BX9HRARHDTZC9NFFVEMDTDSJLEGFEUTQVMGTF9CKATRIJXQOPFXUSKUVZ9IGFEPRZJQCAKIDAUBWVYMQBJCLTIZJLALZJKGXBOBWTLKOEIBEETIEUDCDBDXWKRNBIVCJCHLTEPNYRDUTUNRLBREAMDLEOHNWOAPILQECVWPHBIIFODRGJNJUKVDJTGHIQPT9UOIHKDYZ",
                  "address":"DFZSZK9ILAAHEJPWEHIKTRKLNOQBIVCZYYSLNKDZBLCAHMBNXZOFKEMLVSLDODUXNRNMDMNGCSEXRNHGK",
                  "value":-13500,
                  "tag":"999999999999999999999999999",
                  "timestamp":1490131006,
                  "currentIndex":1,
                  "lastIndex":3,
                  "bundle":"FOTVWJMDJVVFHJSJBFSVYPUSBQCZVZQPEDNEJFPWUBUAFKGRYQNKIGPHEXRFYPLLZLCJXXEMNXQ9FHRMF",
                  "trunkTransaction":"NRSRTE9WXMPOYFXCYUDAVWZVIJPIILKFXAANUQQTYPVE9NHRDTYOCKXLEGOW9AXWJPQPHAV9NHF999999",
                  "branchTransaction":"DUZPGYFPH9BVDWJQDRFUQHROXUPOYMQPLGSXJVFSWOCCSRHISOE9XYVYXNQFLCKEBEWILJQYNGN999999",
                  "nonce":"VA99LHXAUQVIFJNDLEBIIMCQQNIWSNSOQDQYBELMNUNUHKFEKSDQHHDNQWUJFEKED9KXA9LBAMWUINKKT"
               },
               {
                  "hash":"NRSRTE9WXMPOYFXCYUDAVWZVIJPIILKFXAANUQQTYPVE9NHRDTYOCKXLEGOW9AXWJPQPHAV9NHF999999",
                  "signatureMessageFragment":"ATUKYBO9LZPVCIEQGNKQSECWUQ9NRJFFKCIXJZROYBCOXXTJDIADRQCUDEWDRBNXTBUJQYOZLOKXG9GCEFEPWRUZQFDNMLNNUSDSSYHZGKNCTALAKKHQDOTWZNKLJGLSSAQQEIC9PPPWYLUYJJLXUUDEOFQPVYHTLRVTYAQECAHJEHDMPRRTABYVH9ZJQRGZBXFFCFZSAQERVDLTYJWSJGCPQQTAQRLXMMIDOKVEVJ9HE9PMJAXBIZYOHBO9PPZNLRYIUALHAVKHHGJRWXBUU9KSOJMPUILOZCRDCIFSVL9GHCHMFRTQFUBEUIXQZCPCLOQBDIHRLQJHNOGAKHPEMCDGFVLMRZ9JGREGBQCIADVLLEU9HHB9IWWJDBYBQQYVNNZAUSBZTFRZGFFOYWLDTCRDQSPAXLZYVLXRFGRFATZSNHZOSKATSKJHLPUTVAWKTDJBTILQAEVBWKPVKLDLCJYSFICOCHBCPB9NNPJEPJ9OLPVAFKXFQB9LIEBQIYAESWF9YPGSLTOKHFCCTERNUXTHCUNO9HCRGNAVQQUV9WONPMXLVRNTQXNI9VDGWDTMDXJNLGGAVHYMPE9IQXPUDZMHBHWFJUFDSTAQZZ9X9MVJJTVKWER9GFTJHOLQQBP99KWLPONSTGMWEAJGFCLIDMKBWEVFAMXBIGOLX99KBPQDIYRUVAMUMBOTJDQX9OURCHQTDNIFCPIHXEPJXFTIZKTBTHHOTMSOJYSRY9RXUGLCPLS9VOJXLRO9IOHGIJFPZUOASSOBMBPHMFHSUXBIRONQLTSGCMOLSRAHVJHPSTL9BRWQLXSWKRSLCMQJVIFW9JQHXSBHBFSLKGBOHXERVBLVRXTGNRQEXFVMEYLSFLPAXRRIRYVSAFNCOJETKWUQNFXEDYQOBJCKT9BGFUARGYOCBRFYNFCGTXUWALHIZGPJBESZHWIYHPFZDPNAWKRQDFJLXGSECEBMYMILNE9JUQQCFIONCUTKRCJFULHILUXXQXHSFTXLIVWTHAHJHCIYSMKEWAVZVVZKQLL9VMUEWEKILVMTFGAFXRRVEJZJBKPMBBIDRTWCOTD9VHVJXTBDYGTMDXL9ANABAKVEJJ9C9QGKQEVJYOMCTAMQFJMVJXUOJCEVIPAZWA9VLPZQCDG9IXD9QEJTS9PYEQLGUCLXBSIGZRBCYRMYONKYJHJWHKPXAMGJUWOEABPVSVZQYINZQTFSZH9DQPVDIELXUESDPRUVO9CJJSLQALWHFOATHAWTOCMBINSKWMSWNGDCUBJFXMJKKK9UUSPHIKBMVPNRS9HJYWSOYICWVSOLMZBOEBLFHTLZENGHLUVA9UCQQZWNTBKOLYHAEHPUTMLGLRFKQCJJMZFJBJHCSKDCPMUMSZEGFPFISXZEYYMQFEBNAGBMKCKOYVGEQBQNQHZTKAZZUBULOQOSGMRDAPPKOAYPIAVPUXCCVIVIWSROYPWPXLJFKQPXXTKYYQFTKMRUAZYHELCJYRRXXBFETHQLSJIQJQNSNNGSLXTXPKVPDYLQVGQRGSKHSSNXHDEMRXQHDNFNWCZCDWP9FANSPXBCUHSGCYA99AASFOPF9Z9USGLO9UOFFFE9TUEPXQPJDTDPVHSAWMK9X9PVWIAO9MTIZHTWYKAYYKGYLFNZBKOLHZTCKURLKJXTBSJQMI9NMZQHMZXSOJTFGAGWZBPNEITGQHANGYAYICBYIYOKVIOEU9IQQRN9FCLLBIDAFQPRLABBATTCSUVLNQODDBGNYIVEOEQWQFAVQZERKLG9TMUYWYNDAFUHKHDXBYKUUNRSZZUNJUUMRVFDGPNIBKOXFENEQJNIXMWNKAZXOVLUBUVSVJLHOYUSRATG9UFGDO9ORNQJGXMJLTGRLMJWHEVRZTVQJQURATBUXDL9Y9RFAFEWUDFBHHCPRKAQLS9CPBMDBFLYNOWGYLFXYDTILGMDOYVI9XADCFKNYDZWDYXAWNHNSAXCEKYQFPKRIB9CTFYPSPKW9IHHT9OUSABBLUUMN9UWCPMWUKYIGYXMLWIRLLWEUHTFZSJORVSXJHHSSKJHUMWZXCSPGDIWCLXYL9PDC9KRJTJFHV9UAMGXSJKDWTOEPBXRXTNWO9IZMWWXSEGIAFTSY9QMZOYZTDTCTWXFFNXVOEMOAUSSLXPAKCKRYBAZWCRPGFOIUJBRTGBOOJY",
                  "address":"DFZSZK9ILAAHEJPWEHIKTRKLNOQBIVCZYYSLNKDZBLCAHMBNXZOFKEMLVSLDODUXNRNMDMNGCSEXRNHGK",
                  "value":0,
                  "tag":"999999999999999999999999999",
                  "timestamp":1490131006,
                  "currentIndex":2,
                  "lastIndex":3,
                  "bundle":"FOTVWJMDJVVFHJSJBFSVYPUSBQCZVZQPEDNEJFPWUBUAFKGRYQNKIGPHEXRFYPLLZLCJXXEMNXQ9FHRMF",
                  "trunkTransaction":"9FKVHICYFNEUOARFNHZBEF9RW9WQOW9GZPVDTTUAJFSUORNIOZKUSETPVNYYDBZQFDZKORXTSML999999",
                  "branchTransaction":"DUZPGYFPH9BVDWJQDRFUQHROXUPOYMQPLGSXJVFSWOCCSRHISOE9XYVYXNQFLCKEBEWILJQYNGN999999",
                  "nonce":"ABXKFQHNRCOUQSIGWPFLWANKMIIFGYKUNYMNNRZBGLLGGYHODYJFFWVUCRBLCZAWPPQENUMTFUNHPIHKK"
               },
               {
                  "hash":"9FKVHICYFNEUOARFNHZBEF9RW9WQOW9GZPVDTTUAJFSUORNIOZKUSETPVNYYDBZQFDZKORXTSML999999",
                  "signatureMessageFragment":"999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999",
                  "address":"VKLNKAGJBDKRQHGDAOOZIMSBJHVSONHRHASRYKHMVNZPDDGFWC9ZHNIWNJOBQECLGRVSHJKGBMWSJ9FBV",
                  "value":13400,
                  "tag":"999999999999999999999999999",
                  "timestamp":1490131013,
                  "currentIndex":3,
                  "lastIndex":3,
                  "bundle":"FOTVWJMDJVVFHJSJBFSVYPUSBQCZVZQPEDNEJFPWUBUAFKGRYQNKIGPHEXRFYPLLZLCJXXEMNXQ9FHRMF",
                  "trunkTransaction":"DUZPGYFPH9BVDWJQDRFUQHROXUPOYMQPLGSXJVFSWOCCSRHISOE9XYVYXNQFLCKEBEWILJQYNGN999999",
                  "branchTransaction":"DUZPGYFPH9BVDWJQDRFUQHROXUPOYMQPLGSXJVFSWOCCSRHISOE9XYVYXNQFLCKEBEWILJQYNGN999999",
                  "nonce":"VOLEBOOTVKQBLHMUUGOBNVFOUUHILBJQQCBIRJVEYILHQRWKDIDY9UFPEGYRLTADTUFRLMTCFXPFDWRIW"
               }
            ],
            'expected': false
        }
    ]

    tests.forEach(function(test) {

        it('should should be valid bundle: ' + test.expected, function() {

            var isValid = Utils.isBundle(test.bundle);

            assert.equal(isValid, test.expected);
        });

    })
});
